webpackJsonp([8],{"4o/R":function(e,t){},"9Uov":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("7+uW"),s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("header",[a("h1",{staticStyle:{cursor:"pointer",margin:"0"},on:{click:function(t){return e.$router.push("/")}}},[e._v("HeeJun")])]),e._v(" "),a("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App"},s,!1,function(e){a("ROPs")},"data-v-b0e36ca0",null).exports,n=a("/ocq"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"modal"}},[t("div",{staticClass:"modal-mask"},[t("div",{staticClass:"modal-wrapper"},[t("div",{staticClass:"modal-container"},[t("div",{staticClass:"modal-header"},[this._t("header",[this._v("\n            default header\n          ")])],2),this._v(" "),t("div",{staticClass:"modal-body"},[this._t("body",[this._v("\n            default body\n          ")])],2),this._v(" "),t("div",{staticClass:"modal-footer"},[this._t("footer")],2)])])])])},staticRenderFns:[]};var l={name:"HelloWorld",data:function(){return{userId:"",userName:"",userPassword:"",userPasswordCheck:"",registerModalOpen:!1,loginModalOpen:!1,failResult:"",kakaoMapSearch:"",newUserProfile:"",profileUpdateModal:!1,profileImage:"",profileSubmit:!1}},created:function(){this.$store.dispatch("loadUser")},methods:{register:function(){var e=this;this.$axios.post("/user/register",{userId:this.userId,userName:this.userName,userPassword:this.userPassword}).then(function(t){"중복된 아이디입니다."==t.data?(e.failResult=t.data,e.userId=""):(e.userClear(),localStorage.setItem("token",t.data),e.$store.commit("setIsLogin",!0),window.alert("회원가입되었습니다."))}).catch(function(e){console.log(e)})},login:function(){var e=this;this.$axios.post("/user/login",{userId:this.userId,userPassword:this.userPassword}).then(function(t){"없는 아이디입니다."==t.data||"비밀번호가 틀렸습니다."==t.data?e.failResult=t.data:(e.userClear(),console.log(t.data),localStorage.setItem("token",t.data),e.$store.commit("setIsLogin",!0),window.alert("로그인되었습니다."))}).catch(function(e){console.log(e)})},logOut:function(){localStorage.clear(),this.$store.commit("setIsLogin",!1)},userClear:function(){this.userId="",this.userName="",this.userPassword="",this.userPasswordCheck="",this.registerModalOpen=!1,this.loginModalOpen=!1,this.failResult=""},kakaoMap:function(){this.$router.push("map/"+this.kakaoMapSearch)},fileSelect:function(){var e=this;this.profileSubmit=!0,this.newUserProfile=this.$refs.newUserProfile.files[0];var t=new FileReader;t.onload=function(t){e.profileImage=t.target.result},t.readAsDataURL(this.newUserProfile)},removeFile:function(){this.newUserProfile="",this.profileImage=""},userProfileUpdate:function(){var e=this,t=new FormData;t.set("token",localStorage.getItem("token")),this.newUserProfile&&t.set("profile",this.newUserProfile),this.$axios({method:"patch",url:"/user/profile",data:t,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(t){e.removeFile(),e.profileUpdateModal=!1,e.profileSubmit=!1,"FAIL"==t.data.Auth?(window.alert("로그인이 필요합니다."),e.$store.commit("setIsLogin",!1)):window.alert("프로필이 성공적으로 변경되었습니다.")}).catch(function(e){console.log(e)})},loadProfileImage:function(){var e=this;this.$axios.post("/user/profile",{token:localStorage.getItem("token")}).then(function(t){console.log(t),t.data&&(e.profileImage="upload/"+t.data)}).catch(function(e){console.log(e)})},addFiles:function(){this.$refs.newUserProfile.click()}},components:{Modal:a("VU/8")(null,i,!1,function(e){a("9Uov")},"data-v-ac504c36",null).exports}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("div",{staticStyle:{"margin-top":"150px"}},[a("h1",[e._v("HEE JUN")]),e._v(" "),a("h2",[e._v("카카오 지도 api를 이용한 음식점 리뷰 사이트입니다.")]),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.kakaoMapSearch,expression:"kakaoMapSearch"}],staticStyle:{display:"inline",width:"40%",padding:"0 10px",height:"60px","font-size":"x-large","border-color":"#d2f7ef"},attrs:{type:"text",placeholder:"지역 검색",autocomplete:"off"},domProps:{value:e.kakaoMapSearch},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.kakaoMap(t)},input:function(t){t.target.composing||(e.kakaoMapSearch=t.target.value)}}}),e._v(" "),a("button",{staticStyle:{"box-shadow":"none",height:"60px",padding:"0 10px"},on:{click:e.kakaoMap}},[a("i",{staticClass:"fas fa-search fa-3x",staticStyle:{"vertical-align":"middle",margin:"0 0 5px 0"}})])]),e._v(" "),a("div",[this.$store.state.isLogin?a("div",[a("button",{on:{click:function(t){return e.logOut()}}},[e._v("로그아웃")]),e._v(" "),a("button",{on:{click:function(t){e.loadProfileImage(),e.profileUpdateModal=!0}}},[e._v("유저 프로필 업데이트")])]):a("div",[a("button",{on:{click:function(t){e.registerModalOpen=!0}}},[e._v("회원가입 ")]),e._v(" "),a("button",{on:{click:function(t){e.loginModalOpen=!0}}},[e._v("로그인")])]),e._v(" "),a("button",{on:{click:function(t){return e.$router.push("/board")}}},[e._v("모든 리뷰 보러가기")])])]),e._v(" "),e.registerModalOpen?a("Modal",{on:{close:function(t){return e.userClear()}}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("h3",{staticClass:"modal-default-button"},[a("i",{staticClass:"closeModalBtn fas fa-times fa-lg",on:{click:function(t){return e.userClear()}}})])]),e._v(" "),a("div",{staticClass:"loginJoinForm",attrs:{slot:"body"},slot:"body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.userId,expression:"userId"}],staticStyle:{"margin-top":"50px"},attrs:{id:"userId",type:"text",name:"userId",placeholder:"아이디",autocomplete:"off"},domProps:{value:e.userId},on:{input:function(t){t.target.composing||(e.userId=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],attrs:{id:"userName",name:"userName",placeholder:"닉네임",autocomplete:"off",type:"text"},domProps:{value:e.userName},on:{input:function(t){t.target.composing||(e.userName=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userPassword,expression:"userPassword"}],attrs:{id:"userPassword",type:"text",name:"userPassword",placeholder:"비밀번호",autocomplete:"off"},domProps:{value:e.userPassword},on:{input:function(t){t.target.composing||(e.userPassword=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userPasswordCheck,expression:"userPasswordCheck"}],attrs:{id:"userPasswordCheck",type:"text",name:"userPasswordCheck",placeholder:"비밀번호 확인",autocomplete:"off"},domProps:{value:e.userPasswordCheck},on:{input:function(t){t.target.composing||(e.userPasswordCheck=t.target.value)}}}),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:e.userPassword!==e.userPasswordCheck,expression:"userPassword !== userPasswordCheck"}]},[e._v("비밀번호를 맞춰주십시오")])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("button",{attrs:{disabled:!e.userId||!e.userName||!e.userPassword||e.userPassword!==e.userPasswordCheck,type:"button"},on:{click:e.register}},[e._v("회원 가입")])]),e._v(" "),a("p",{staticStyle:{"margin-top":"20px"},attrs:{slot:"footer"},slot:"footer"},[e._v(" "+e._s(e.failResult))])]):e._e(),e._v(" "),e.loginModalOpen?a("Modal",{on:{close:function(t){return e.userClear()}}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("h3",{staticClass:"modal-default-button"},[a("i",{staticClass:"closeModalBtn fas fa-times fa-lg",on:{click:function(t){return e.userClear()}}})])]),e._v(" "),a("div",{staticClass:"loginJoinForm",attrs:{slot:"body"},slot:"body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.userId,expression:"userId"}],staticStyle:{"margin-top":"50px"},attrs:{id:"userId",type:"text",name:"userId",placeholder:"아이디",autocomplete:"off"},domProps:{value:e.userId},on:{input:function(t){t.target.composing||(e.userId=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userPassword,expression:"userPassword"}],attrs:{id:"userPassword",type:"text",name:"userPassword",placeholder:"비밀번호",autocomplete:"off"},domProps:{value:e.userPassword},on:{input:function(t){t.target.composing||(e.userPassword=t.target.value)}}})]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("button",{attrs:{disabled:!e.userId||!e.userPassword,type:"button"},on:{click:e.login}},[e._v("로그인")])]),e._v(" "),a("p",{staticStyle:{"margin-top":"20px"},attrs:{slot:"footer"},slot:"footer"},[e._v(" "+e._s(e.failResult))])]):e._e(),e._v(" "),e.profileUpdateModal?a("Modal",[a("div",{attrs:{slot:"header"},slot:"header"},[a("h3",{staticClass:"modal-default-button"},[a("i",{staticClass:"closeModalBtn fas fa-times fa-lg",on:{click:function(t){e.removeFile(),e.profileUpdateModal=!1,e.profileSubmit=!1}}})])]),e._v(" "),a("div",{staticStyle:{"margin-top":"40px"},attrs:{slot:"body"},slot:"body"},[a("input",{ref:"newUserProfile",attrs:{type:"file"},on:{change:function(t){return e.fileSelect()}}}),e._v(" "),a("button",{staticStyle:{"margin-bottom":"30px"},on:{click:e.addFiles}},[e._v("이미지 선택")]),e._v(" "),e.profileImage?a("div",{staticClass:"image-wrapper"},[a("img",{staticStyle:{width:"300px",height:"300px","border-radius":"150px"},attrs:{src:e.profileImage}}),e._v(" "),a("div",{staticClass:"image-delete-box"},[a("i",{staticClass:"closeModalBtn fas fa-times",staticStyle:{margin:"0 7px 0 0"},on:{click:function(t){e.removeFile(),e.profileSubmit=!0}}})])]):e._e()]),e._v(" "),a("div",{staticStyle:{"margin-bottom":"30px"},attrs:{slot:"footer"},slot:"footer"},[a("button",{attrs:{disabled:!e.profileSubmit},on:{click:function(t){return e.userProfileUpdate()}}},[e._v("프로필 변경")])])]):e._e()],1)},staticRenderFns:[]};var c=a("VU/8")(l,d,!1,function(e){a("Tphe")},"data-v-15830872",null).exports,u={props:["search"],data:function(){return{markers:[],keyword:"광명역",overlaymarker:!1,map:"",ps:"",infowindow:"",overlay:""}},mounted:function(){this.search&&(this.keyword=this.search);var e=document.getElementById("map"),t={center:new kakao.maps.LatLng(37.566826,126.9786567),level:3};this.map=new kakao.maps.Map(e,t),this.ps=new kakao.maps.services.Places,this.infowindow=new kakao.maps.InfoWindow({zIndex:1}),this.overlay=new kakao.maps.CustomOverlay,this.searchPlaces()},methods:{searchPlaces:function(){if(!this.keyword.replace(/^\s+|\s+$/g,""))return alert("키워드를 입력해주세요!"),!1;this.ps.keywordSearch(this.keyword,this.placesSearchCB,{category_group_code:"FD6"})},placesSearchCB:function(e,t,a){if(t===kakao.maps.services.Status.OK)this.displayPlaces(e),this.displayPagination(a);else{if(t===kakao.maps.services.Status.ZERO_RESULT)return void alert("검색 결과가 존재하지 않습니다.");if(t===kakao.maps.services.Status.ERROR)return void alert("검색 결과 중 오류가 발생했습니다.")}},displayPlaces:function(e){var t=this,a=document.getElementById("placesList"),o=document.getElementById("menu_wrap"),s=document.createDocumentFragment(),r=new kakao.maps.LatLngBounds;this.removeAllChildNods(a),this.removeMarker();for(var n=function(a){l=new kakao.maps.LatLng(e[a].y,e[a].x),d=t.addMarker(l,a),c=t.getListItem(a,e[a]),r.extend(l),function(o,s){var r=t.getContent(e[a]);kakao.maps.event.addListener(o,"mouseover",function(){t.displayInfowindow(o,s)}),kakao.maps.event.addListener(o,"mouseout",function(){t.infowindow.close()}),kakao.maps.event.addListener(o,"click",function(){t.overlaymarker&&t.overlay.getContent()===r?(t.overlay.setMap(null),t.overlaymarker=!t.overlaymarker):(t.overlay.setContent(r),t.overlay.setPosition(o.getPosition()),t.overlay.setMap(t.map),t.overlay.setZIndex(3),t.overlaymarker||(t.overlaymarker=!t.overlaymarker))}),r.getElementsByClassName("close").item(0).onclick=function(){t.overlay.setMap(null),t.overlaymarker=!1},r.getElementsByClassName("review")[0].onclick=function(){t.$router.push("/board/"+e[a].id+"/"+e[a].place_name)},r.getElementsByClassName("review")[0].onmouseover=function(){r.getElementsByClassName("review")[0].style.color="blue"},r.getElementsByClassName("review")[0].onmouseout=function(){r.getElementsByClassName("review")[0].style.color=""},c.onmouseover=function(){t.displayInfowindow(o,s)},c.onmouseout=function(){t.infowindow.close()},c.onclick=function(){t.$router.push("/board/"+e[a].id+"/"+e[a].place_name)}}(d,e[a].place_name),s.appendChild(c)},i=0;i<e.length;i++){var l,d,c;n(i)}a.appendChild(s),o.scrollTop=0,this.map.setBounds(r)},getListItem:function(e,t){var a=document.createElement("li"),o='<span class="markerbg marker_'+(e+1)+'" style="margin:5px 0 0 0;"></span><div class="info">   <h4>'+t.place_name+"</h4>";return t.road_address_name?o+="    <span>"+t.road_address_name+'</span>   <span class="jibun gray">'+t.address_name+"</span>":o+="    <span>"+t.address_name+"</span>",o+='  <span class="tel">'+t.phone+"</span></div>",a.innerHTML=o,a.className="item",a},getContent:function(e){var t=document.createElement("div");t.className="wrap";var a='    <div class="info">        <div class="title">'+e.place_name+'            <div class="close" title="닫기"></div>        </div>        <div class="body">            <div class="img">                <img src="http://cfile181.uf.daum.net/image/250649365602043421936D" width="73" height="70">           </div>            <div class="desc">                <div class="ellipsis">'+e.address_name+"</div>";return e.road_address_name&&(a+='<div class="jibun ellipsis">'+e.road_address_name+"</div>"),a+='<div class="review"><span>리뷰 보러가기</span></div>',t.innerHTML=a,t},addMarker:function(e,t,a){var o=new kakao.maps.Size(36,37),s={spriteSize:new kakao.maps.Size(36,691),spriteOrigin:new kakao.maps.Point(0,46*t+10),offset:new kakao.maps.Point(13,37)},r=new kakao.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png",o,s),n=new kakao.maps.Marker({position:e,image:r});return n.setMap(this.map),this.markers.push(n),n},removeMarker:function(){for(var e=0;e<this.markers.length;e++)this.markers[e].setMap(null);this.markers=[]},displayPagination:function(e){for(var t,a=document.getElementById("pagination"),o=document.createDocumentFragment();a.hasChildNodes();)a.removeChild(a.lastChild);for(t=1;t<=e.last;t++){var s=document.createElement("a");s.href="#",s.innerHTML=t,t===e.current?s.className="on":s.onclick=function(t){return function(){e.gotoPage(t)}}(t),o.appendChild(s)}a.appendChild(o)},displayInfowindow:function(e,t){var a='<div style="padding:5px;z-index:1;">'+t+"</div>";this.infowindow.setContent(a),this.infowindow.open(this.map,e)},fuckingInfowindow:function(e,t){},removeAllChildNods:function(e){for(;e.hasChildNodes();)e.removeChild(e.lastChild)},closeOverlay:function(){this.overlay.setMap(null)}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"bg_white",attrs:{id:"menu_wrap"}},[a("div",{staticClass:"option"},[a("div",[e._v("\r\n                        키워드 : "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],staticClass:"searchInput",attrs:{type:"text",id:"keyword",size:"15",autocomplete:"off"},domProps:{value:e.keyword},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchPlaces()},input:function(t){t.target.composing||(e.keyword=t.target.value)}}}),e._v(" "),a("button",{staticStyle:{outline:"none",padding:"0 2px","letter-spacing":"1px",height:"25px","line-height":"2px","box-shadow":"none","font-size":"15px"},attrs:{type:"submit"},on:{click:function(t){return e.searchPlaces()}}},[a("i",{staticClass:"fas fa-search fa-lg",staticStyle:{"vertical-align":"middle","margin-bottom":"5px"}})])])]),e._v(" "),a("hr"),e._v(" "),a("div",{staticStyle:{height:"60px",margin:"10px 0"}},[a("button",{staticClass:"button",staticStyle:{height:"inherit","font-size":"1.3em",padding:"0 15px"},on:{click:function(t){return e.$router.push("/board")}}},[e._v(" 모든 리뷰 보러가기 ")])]),e._v(" "),a("ul",{attrs:{id:"placesList"}}),e._v(" "),a("div",{attrs:{id:"pagination"}})]),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"map_wrap"},[t("div",{staticStyle:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},attrs:{id:"map"}})])}]};var m=a("VU/8")(u,p,!1,function(e){a("4o/R")},null,null).exports,f=a("mtWM"),v=a.n(f),h=a("NYxO");o.a.prototype.$axios=v.a,o.a.use(h.a);var g=new h.a.Store({state:{isLogin:!1,me:"",links:{}},mutations:{setIsLogin:function(e,t){e.isLogin=t},setMe:function(e,t){e.me=t},setLinks:function(e,t){e.links=t}},actions:{loadUser:function(e){var t=e.commit;return v.a.post("/user",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(e){t("setMe",e.data)}).catch(function(e){console.error(e)})}}});o.a.use(n.a);var k=new n.a({routes:[{path:"/",name:"index",component:c},{path:"/board/:placeId/:placeName",component:function(){return Promise.all([a.e(0),a.e(6)]).then(a.bind(null,"oA1X"))},props:!0},{path:"/map",component:m},{path:"/map/:search",component:m,props:!0},{path:"/boardWrite/:placeId/:placeName",component:function(){return a.e(5).then(a.bind(null,"jtAw"))},props:!0,meta:{authRequired:!0}},{path:"/board",component:function(){return Promise.all([a.e(0),a.e(3)]).then(a.bind(null,"s3jv"))}},{path:"/boardReview/:boardId",component:function(){return a.e(2).then(a.bind(null,"57Tg"))},props:!0},{path:"/boardUpdate/:boardId",component:function(){return a.e(1).then(a.bind(null,"/w0W"))},props:!0,meta:{authRequired:!0}},{path:"/userBoard/:userId",component:function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,"AS+v"))},props:!0}]});k.beforeEach(function(e,t,a){v.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),localStorage.getItem("token")?v()({method:"post",url:"/user/auth"}).then(function(t){e.matched.some(function(e){return e.meta.authRequired})?"FAIL"!==t.data.Auth?(g.commit("setIsLogin",!0),a()):(window.alert("로그인이 필요합니다."),g.commit("setIsLogin",!1),localStorage.clear(),a("/")):("FAIL"!==t.data.Auth?g.commit("setIsLogin",!0):(g.commit("setIsLogin",!1),localStorage.clear()),a())}).catch(function(e){console.log(e)}):e.matched.some(function(e){return e.meta.authRequired})?(window.alert("로그인이 필요합니다."),a("/")):(g.commit("setIsLogin",!1),a())});var w=k;o.a.config.productionTip=!1,new o.a({el:"#app",router:w,store:g,components:{App:r},template:"<App/>"})},ROPs:function(e,t){},Tphe:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.44aff8a284892d52f3d2.js.map